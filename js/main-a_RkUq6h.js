var m=Object.defineProperty;var p=(o,e,t)=>e in o?m(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var l=(o,e,t)=>p(o,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const d=class d{constructor(e=[]){this.todos=e}addTodo(e,t){if(!(e.length>0)||!(t>=1&&t<=3))return!1;const c={task:e,completed:!1,priority:t};return this.todos.push(c),!0}markTodoCompleted(e){if(!this.todos[e])throw new Error("The given todoIndex gave no results.");this.todos[e].completed=!0}getTodos(){return this.todos}saveToLocalStorage(){const e=JSON.stringify(this.todos);localStorage.setItem(d.key,e)}loadFromLocalStorage(){const e=localStorage.getItem(d.key);this.todos=e?JSON.parse(e):[]}};l(d,"key","todos");let i=d;function a({task:o,completed:e,priority:t}){const c=document.createElement("p");c.innerText=`${t}`;const r=document.createElement("p");r.innerText=o;const n=document.createElement("button");n.innerHTML='<i class="fa-solid fa-check"></i>',n.setAttribute("id","complete");const s=document.createElement("li");return s.setAttribute("data-completed",e.toString()),s.appendChild(c),s.appendChild(r),s.appendChild(n),n.addEventListener("click",()=>{const u=s.dataset.completed==="true";s.dataset.completed=(!u).toString(),s.classList.toggle("completed")}),s}function f(o){const e=document.querySelector("ul"),t=document.createDocumentFragment();o.forEach(({task:c,completed:r,priority:n})=>{const s=a({task:c,completed:r,priority:n});t.appendChild(s)}),e.appendChild(t)}function g(o){document.querySelector("form").addEventListener("submit",t=>h(t,o))}function h(o,e){o.preventDefault();const t=new FormData(o.target),c={task:t.get("todo-desc"),completed:!1,priority:Number(t.get("todo-prio"))};e.addTodo(c.task,c.priority),e.saveToLocalStorage(),y(c)}function y(o){const e=document.querySelector("ul"),t=a(o);e.appendChild(t)}document.addEventListener("DOMContentLoaded",()=>{const o=new i;o.loadFromLocalStorage(),f(o.getTodos()),g(o)});
